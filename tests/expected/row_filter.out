\set VERBOSITY terse
\pset format unaligned
-- predictability
SET synchronous_commit = on;
DROP TABLE IF EXISTS rf1;
NOTICE:  table "rf1" does not exist, skipping
CREATE TABLE rf1 (id int PRIMARY KEY, data text, d date);
SELECT slot_create();
slot_create
init
(1 row)
-- Bad config
SELECT data FROM slot_get(
	'include', '{"where": "id > 0"}');
ERROR:  command "include" doesn't specifiy what to filter: "{"where": "id > 0"}"
SELECT data FROM slot_get(
	'exclude', '{"table": "rf1", "where": "id > 0"}');
ERROR:  command "exclude" cannot specify a row filter, in "{"table": "rf1", "where": "id > 0"}"
SELECT slot_drop();
slot_drop
stop
(1 row)
